<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="icon" href="../images/favcon.jpeg" type="image/jpeg">
    <title>Associate Dashboard - Mc Electronics And Electrics</title>


    <link rel="stylesheet" href="../css/bootstrap.css">

    <link href="../css/font-awesome.min.css" rel="stylesheet" />

    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">

    <style>
        :root {
            --primary-color: #00204a;
            /* Dark Blue */
            --accent-color: #00bbf0;
            /* Cyan */
            --bg-color: #f4f6f9;
            --text-color: #333;
            --sidebar-width: 250px;
        }

        body {
            font-family: 'Roboto', sans-serif;
            background-color: var(--bg-color);
            margin: 0;
            overflow-x: hidden;
        }

        /* Sidebar */
        .sidebar {
            width: var(--sidebar-width);
            background-color: var(--primary-color);
            height: 100vh;
            position: fixed;
            top: 0;
            left: 0;
            color: #fff;
            transition: all 0.3s;
            z-index: 1000;
        }

        .sidebar-header {
            padding: 20px;
            background-color: rgba(0, 0, 0, 0.2);
            text-align: center;
        }

        .sidebar-header h4 {
            margin: 0;
            font-weight: 700;
            font-size: 1.2rem;
        }

        .sidebar-menu {
            list-style: none;
            padding: 0;
            margin: 20px 0 0 0;
        }

        .sidebar-menu li {
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .sidebar-menu a {
            display: block;
            padding: 15px 20px;
            color: #bdc3c7;
            text-decoration: none;
            transition: all 0.3s;
        }

        .sidebar-menu a:hover,
        .sidebar-menu a.active {
            color: #fff;
            background-color: var(--accent-color);
            padding-left: 25px;
        }

        .sidebar-menu i {
            margin-right: 10px;
            width: 20px;
            text-align: center;
        }

        /* Main Content */
        .main-content {
            margin-left: var(--sidebar-width);
            padding: 20px;
            transition: all 0.3s;
        }

        /* Topbar */
        .topbar {
            background-color: #fff;
            padding: 10px 20px;
            border-radius: 5px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .toggle-btn {
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--primary-color);
            display: none;
            /* Hidden on desktop */
        }

        .user-profile {
            display: flex;
            align-items: center;
            text-align: right;
        }

        .user-info {
            margin-right: 15px;
        }

        .user-name {
            display: block;
            font-weight: 500;
            color: #333;
            font-size: 1rem;
        }

        .user-role {
            font-size: 0.85rem;
            color: #888;
            display: block;
        }

        .user-img {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            object-fit: cover;
            border: 2px solid var(--accent-color);
            padding: 2px;
        }

        .page-title {
            font-size: 1.5rem;
            color: #6c757d;
            font-weight: 500;
            margin: 0;
        }

        /* Stats Cards */
        .stat-card {
            background: #fff;
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            display: flex;
            align-items: center;
            transition: transform 0.3s;
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-icon {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background-color: rgba(0, 187, 240, 0.1);
            color: var(--accent-color);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            margin-right: 20px;
        }

        .stat-details h5 {
            margin: 0;
            color: #888;
            font-size: 0.9rem;
            font-weight: 500;
        }

        .stat-details h2 {
            margin: 5px 0 0 0;
            color: var(--primary-color);
            font-weight: 700;
        }

        /* Section Title */
        .section-title {
            color: var(--primary-color);
            font-weight: 700;
            margin-bottom: 20px;
            border-left: 5px solid var(--accent-color);
            padding-left: 15px;
        }

        /* Table */
        .table-container {
            background: #fff;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            overflow-x: auto;
        }

        .custom-table th {
            border-top: none;
            background-color: #f8f9fa;
            color: var(--primary-color);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .sidebar {
                margin-left: -250px;
            }

            .sidebar.active {
                margin-left: 0;
            }

            .main-content {
                margin-left: 0;
            }

            .toggle-btn {
                display: block;
            }

            .topbar {
                padding: 15px;
            }

            .page-title {
                font-size: 1.2rem;
                text-align: center;
                flex-grow: 1;
            }
        }

        /* Full Screen Modal Support */
        .modal-fullscreen {
            padding: 0 !important;
        }

        .modal-fullscreen .modal-dialog {
            width: 100%;
            max-width: none;
            height: 100%;
            margin: 0;
            display: flex;
            flex-direction: column;
        }

        .modal-fullscreen .modal-content {
            height: 100%;
            border: 0;
            border-radius: 0;
            display: flex;
            flex-direction: column;
        }

        .modal-fullscreen .modal-body {
            flex: 1;
            overflow-y: auto;
            overflow-x: hidden;
        }

        .modal-fullscreen .modal-footer {
            flex-shrink: 0;
        }

        /* Checkbox Error Animation */
        @keyframes shake {

            0%,
            100% {
                transform: translateX(0);
            }

            10%,
            30%,
            50%,
            70%,
            90% {
                transform: translateX(-10px);
            }

            20%,
            40%,
            60%,
            80% {
                transform: translateX(10px);
            }
        }

        .checkbox-error {
            animation: shake 0.5s;
        }

        .checkbox-error label {
            color: #dc3545 !important;
        }

        /* Sidebar Overlay */
        .sidebar-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 999;
        }

        .sidebar-overlay.active {
            display: block;
        }

        .sidebar-close-btn {
            position: absolute;
            top: 10px;
            right: 15px;
            color: #fff;
            font-size: 1.5rem;
            cursor: pointer;
            display: none;
        }

        @media (max-width: 768px) {
            .sidebar-close-btn {
                display: block;
            }
        }

        /* Notifications */
        .notification-bell {
            position: relative;
            margin-right: 20px;
            cursor: pointer;
            color: var(--primary-color);
            font-size: 1.5rem;
            transition: transform 0.2s;
        }

        .notification-bell:hover {
            transform: scale(1.1);
            color: var(--accent-color);
        }

        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background-color: #dc3545;
            color: #fff;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            font-size: 0.7rem;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid #fff;
            animation: pulse-red 2s infinite;
        }

        @keyframes pulse-red {
            0% {
                box-shadow: 0 0 0 0 rgba(220, 53, 69, 0.7);
            }

            70% {
                box-shadow: 0 0 0 10px rgba(220, 53, 69, 0);
            }

            100% {
                box-shadow: 0 0 0 0 rgba(220, 53, 69, 0);
            }
        }

        /* Notification Panel (Slide-in) */
        .notification-panel {
            position: fixed;
            top: 0;
            right: -350px;
            width: 350px;
            height: 100vh;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: -5px 0 15px rgba(0, 0, 0, 0.1);
            z-index: 1050;
            transition: right 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            display: flex;
            flex-direction: column;
        }

        .notification-panel.active {
            right: 0;
        }

        .notification-header {
            padding: 20px;
            background: var(--primary-color);
            color: #fff;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .notification-header h5 {
            margin: 0;
            font-weight: 600;
        }

        .notification-body {
            flex: 1;
            overflow-y: auto;
            padding: 0;
        }

        .notification-item {
            padding: 15px;
            border-bottom: 1px solid #eee;
            transition: background 0.2s;
            cursor: pointer;
            position: relative;
        }

        .notification-item:hover {
            background-color: #f8f9fa;
        }

        .notification-item.unread {
            background-color: rgba(0, 187, 240, 0.05);
            border-left: 4px solid var(--accent-color);
        }

        .notification-item .title {
            font-weight: 600;
            font-size: 0.9rem;
            color: var(--primary-color);
            margin-bottom: 5px;
            display: block;
        }

        .notification-item .message {
            font-size: 0.85rem;
            color: #666;
            margin-bottom: 5px;
            display: block;
        }

        .notification-item .time {
            font-size: 0.75rem;
            color: #999;
            display: block;
            text-align: right;
        }

        .notification-footer {
            padding: 15px;
            border-top: 1px solid #eee;
            background: #fff;
        }

        .notification-empty {
            padding: 30px;
            text-align: center;
            color: #999;
        }

        @media (max-width: 576px) {
            .notification-panel {
                width: 100%;
                right: -100%;
            }
        }
    </style>
</head>

<body>

    <div class="sidebar-overlay" onclick="toggleSidebar()"></div>

    <div class="sidebar-overlay" id="notificationOverlay" onclick="toggleNotificationPanel()" style="z-index: 1040;">
    </div>

    <div id="page-loader"
        style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: #ffffff; z-index: 99999; display: flex; justify-content: center; align-items: center; transition: opacity 0.5s ease;">
        <i class="fa fa-spinner fa-spin" style="font-size: 3rem; color: #00bbf0;"></i>
    </div>

    <nav class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="sidebar-close-btn" onclick="toggleSidebar()"><i class="fa fa-times"></i></div>
            <h4>Mc Electronics</h4><small>Associate Panel</small>
        </div>
        <ul class="sidebar-menu">
            <li><a href="dashboard.html" class="active"><i class="fa fa-tachometer"></i>Dashboard </a>
            </li>
            <li><a href="#" onclick="$('#qrScannerModal').modal('show'); return false;"><i class="fa fa-qrcode"></i>Scan
                    QR Code </a></li>
            <li><a href="manage-profile.html"><i class="fa fa-user"></i>My Profile </a></li>
            <li><a href="#" onclick="$('#payoutDetailsModal').modal('show'); return false;"><i
                        class="fa fa-money"></i>Payout Details </a></li>
            <li><a href="../index.html"><i class="fa fa-home"></i>Back to Site </a></li>
            <li><a href="#" onclick="logout()"><i class="fa fa-sign-out"></i>Logout </a></li>
        </ul>
    </nav>

    <div class="main-content" id="content">

        <div class="topbar">
            <div class="d-flex align-items-center">
                <div class="toggle-btn mr-3 d-md-none" onclick="toggleSidebar()"
                    style="display: block; margin-bottom: 0; font-size: 1.2rem;"><i class="fa fa-bars"></i></div>
                <h2 class="page-title">Associate Dashboard</h2>
            </div>
            <div class="user-profile">

                <div class="notification-bell" onclick="toggleNotificationPanel()"><i class="fa fa-bell"></i><span
                        class="notification-badge" id="notificationBadge" style="display: none;">0</span></div>
                <div class="user-info d-none d-sm-block"><span class="user-name"
                        id="associateName">Loading...</span><span class="user-role">Delivery
                        Associate</span></div><img src="../images/client1.gif" alt="Associate" class="user-img"
                    id="associateImg">
            </div>
        </div>

        <h3 class="section-title">Overview</h3>
        <div class="row">
            <div class="col-md-4">
                <div class="stat-card">
                    <div class="stat-icon"><i class="fa fa-truck"></i></div>
                    <div class="stat-details">
                        <h5>Total Deliveries Today</h5>
                        <h2 id="totalDeliveries">0</h2>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="stat-card">
                    <div class="stat-icon"><i class="fa fa-money"></i></div>
                    <div class="stat-details">
                        <h5>Today's Revenue</h5>
                        <h2 id="totalRevenue">₹0</h2>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="stat-card">
                    <div class="stat-icon"><i class="fa fa-check-circle"></i></div>
                    <div class="stat-details">
                        <h5>Deliveries Done Today</h5>
                        <h2 id="deliveriesDone">0</h2>
                    </div>
                </div>
            </div>
        </div>

        <div class="row mt-4">
            <div class="col-md-12">
                <h3 class="section-title">Recent Deliveries</h3>
                <div class="table-container">
                    <table class="table custom-table table-hover">
                        <thead>
                            <tr>
                                <th>Order ID</th>
                                <th>Customer</th>
                                <th>Product</th>
                                <th>Amount</th>
                                <th>Date</th>
                            </tr>
                        </thead>
                        <tbody id="recentDeliveriesTable">
                            <tr>
                                <td colspan="5" class="text-center text-muted">Loading
                                    deliveries...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="text-right mt-2"><button id="viewMoreRecentBtn" class="btn btn-sm btn-outline-info"
                        style="display:none;">View
                        More Recent Deliveries</button></div>
            </div>
        </div>

        <div class="row mt-4">
            <div class="col-md-12">
                <h3 class="section-title">All Deliveries</h3>
                <div class="table-container">
                    <table class="table custom-table table-hover">
                        <thead>
                            <tr>
                                <th>Order ID</th>
                                <th>Customer</th>
                                <th>Product</th>
                                <th>Amount</th>
                                <th>Date</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody id="allDeliveriesTable">
                            <tr>
                                <td colspan="6" class="text-center text-muted">
                                    Loading deliveries...</td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="text-right mt-3"><button id="viewAllDeliveriesBtn" class="btn btn-primary btn-block"><i
                                class="fa fa-list"></i>View All Deliveries </button>
                    </div>
                </div>
            </div>
        </div>

        <footer class="mt-5 text-center text-muted">
            <p>&copy;
                2026 Mc Electronics Associate Panel.</p>
        </footer>
    </div>

    <div class="modal fade modal-fullscreen" id="recentDeliveriesModal" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header bg-info text-white">
                    <h5 class="modal-title"><i class="fa fa-clock-o"></i>Today's Deliveries</h5>
                    <button type="button" class="close text-white" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;
                        </span></button>
                </div>
                <div class="modal-body p-0">
                    <div class="table-responsive">
                        <table class="table table-striped table-hover mb-0">
                            <thead class="thead-light">
                                <tr>
                                    <th>Order ID</th>
                                    <th>Customer</th>
                                    <th>Product</th>
                                    <th>Amount</th>
                                    <th>Time</th>
                                </tr>
                            </thead>
                            <tbody id="modalRecentDeliveriesTable">

                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade modal-fullscreen" id="allDeliveriesModal" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header bg-primary text-white">
                    <h5 class="modal-title"><i class="fa fa-list"></i>All Deliveries History
                    </h5><button type="button" class="close text-white" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;
                        </span></button>
                </div>
                <div class="modal-body p-0">
                    <div class="table-responsive">
                        <table class="table table-striped table-hover mb-0">
                            <thead class="thead-light">
                                <tr>
                                    <th>Order ID</th>
                                    <th>Customer</th>
                                    <th>Product</th>
                                    <th>Amount</th>
                                    <th>Date</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody id="modalAllDeliveriesTable">

                            </tbody>
                        </table>
                    </div>

                    <div class="d-flex justify-content-between align-items-center p-3 bg-light border-top">
                        <div class="text-muted">Page <span id="modalPageNum">1</span>
                        </div>
                        <div><button class="btn btn-sm btn-outline-secondary" id="modalPrevBtn"
                                disabled>Previous</button><button class="btn btn-sm btn-outline-secondary ml-2"
                                id="modalNextBtn" disabled>Next</button></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="qrScannerModal" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static">
        <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Scan QR to Update Order</h5><button type="button" class="close"
                        data-dismiss="modal" aria-label="Close" onclick="stopQrScanner()"><span
                            aria-hidden="true">&times;
                        </span></button>
                </div>
                <div class="modal-body text-center">
                    <div id="qr-reader" style="width: 100%; min-height: 300px;"></div>
                    <p class="mt-3 text-muted">Point camera at the "Scan to Update" QR
                        Code.</p>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade modal-fullscreen" id="deliveryVerificationModal" tabindex="-1" role="dialog"
        aria-hidden="true" data-backdrop="static">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header bg-success text-white">
                    <h5 class="modal-title"><i class="fa fa-check-circle"></i>Order
                        Verified</h5><button type="button" class="close text-white" data-dismiss="modal"
                        aria-label="Close"><span aria-hidden="true">&times;
                        </span></button>
                </div>
                <div class="modal-body d-flex flex-column justify-content-start align-items-center text-center"
                    style="padding: 15px; overflow-y: auto;">

                    <div id="dvProductImages" class="d-flex justify-content-center mb-3"
                        style="gap: 10px; flex-wrap: wrap; max-height: 150px; overflow: hidden;">

                    </div>

                    <div class="card w-100 mb-2" style="max-width: 500px;">
                        <div class="card-body py-2">
                            <h6 class="text-muted mb-1">Customer Name</h6>
                            <h5 id="dvCustomerName" class="font-weight-bold text-dark mb-0">
                                Customer Name</h5>
                        </div>
                    </div>
                    <div class="card w-100 mb-2" style="max-width: 500px;">
                        <div class="card-body py-2">
                            <h6 class="text-muted mb-1">Order ID</h6>
                            <h5 id="dvOrderId" class="font-weight-bold text-dark mb-0">
                                #123456...</h5>
                        </div>
                    </div>
                    <div class="card w-100 mb-3" style="max-width: 500px;">
                        <div class="card-body py-2">
                            <h6 class="text-muted mb-1">Payment Status</h6>
                            <h3 id="dvPaymentStatus" class="font-weight-bold mb-0">PREPAID</h3>
                            <div id="dvCodAmountWrapper" style="display: none;">
                                <hr class="my-2">
                                <h6 class="text-danger mb-1">COD Collect
                                    Amount</h6>
                                <h2 id="dvCodAmount" class="font-weight-bold text-danger mb-0">
                                    ₹0</h2>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="modal-footer"
                    style="border-top: 2px solid #ddd; padding: 15px; background: #f8f9fa; display: flex; flex-direction: column; align-items: center; justify-content: center;">

                    <div id="dvCodConfirmWrapper" class="mb-2" style="display: none; max-width: 500px; width: 100%;">
                        <div class="custom-control custom-checkbox text-center">
                            <input type="checkbox" class="custom-control-input" id="dvCodConfirmCheck"><label
                                class="custom-control-label" for="dvCodConfirmCheck"
                                style="font-size: 0.9rem; color: #333; font-weight: 500;">Confirm
                                that you have collected payment from
                                customer </label>
                        </div>
                    </div><button id="dvUpdateBtn" class="btn btn-success btn-lg"
                        style="height: 55px; font-size: 1.3rem; margin: 0; max-width: 500px; width: 100%;"><i
                            class="fa fa-truck"></i>Update Delivery
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="payoutDetailsModal" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header" style="background-color: var(--primary-color); color: white;">
                    <h5 class="modal-title"><i class="fa fa-money"></i>Payout
                        Details</h5><button type="button" class="close text-white" data-dismiss="modal"
                        aria-label="Close"><span aria-hidden="true">&times;
                        </span></button>
                </div>
                <div class="modal-body">

                    <ul class="nav nav-tabs" id="payoutTabs" role="tablist">
                        <li class="nav-item"><a class="nav-link active" id="bank-upi-tab" data-toggle="tab"
                                href="#bankUpiSection" role="tab"><i class="fa fa-bank"></i>Bank Account /
                                UPI </a></li>
                        <li class="nav-item"><a class="nav-link" id="incentive-tab" data-toggle="tab"
                                href="#incentiveSection" role="tab"><i class="fa fa-rupee"></i>Payout Summary
                            </a></li>
                    </ul>
                    <div class="tab-content mt-3" id="payoutTabContent">

                        <div class="tab-pane fade show active" id="bankUpiSection" role="tabpanel">
                            <form id="payoutForm">
                                <div class="form-group"><label>Payment
                                        Method <span class="text-danger">*</span></label>
                                    <div>
                                        <div class="custom-control custom-radio custom-control-inline">
                                            <input type="radio" id="methodBank" name="paymentMethod" value="bank"
                                                class="custom-control-input" onchange="togglePaymentMethod()"><label
                                                class="custom-control-label" for="methodBank">Bank
                                                Account</label>
                                        </div>
                                        <div class="custom-control custom-radio custom-control-inline">
                                            <input type="radio" id="methodUPI" name="paymentMethod" value="upi"
                                                class="custom-control-input" onchange="togglePaymentMethod()"><label
                                                class="custom-control-label" for="methodUPI">UPI</label>
                                        </div>
                                    </div>
                                </div>

                                <div id="bankDetailsSection" style="display: none;">
                                    <h6 class="mb-3"><i class="fa fa-bank"></i>Bank
                                        Account Details</h6>
                                    <div class="form-group">
                                        <label>Account Holder Name
                                            <span class="text-danger">*</span></label><input type="text"
                                            class="form-control" id="accountHolderName"
                                            placeholder="As per bank records">
                                    </div>
                                    <div class="form-group">
                                        <label>Account Number <span class="text-danger">*</span></label><input
                                            type="text" class="form-control" id="accountNumber"
                                            placeholder="Enter account number">
                                    </div>
                                    <div class="form-group">
                                        <label>IFSC Code <span class="text-danger">*</span></label><input type="text"
                                            class="form-control" id="ifscCode" placeholder="e.g., SBIN0001234"
                                            style="text-transform: uppercase;">
                                    </div>
                                    <div class="form-group">
                                        <label>Bank
                                            Name</label><input type="text" class="form-control" id="bankName"
                                            placeholder="e.g., State Bank of India">
                                    </div>
                                </div>

                                <div id="upiDetailsSection" style="display: none;">
                                    <h6 class="mb-3"><i class="fa fa-mobile"></i>UPI
                                        Details</h6>
                                    <div class="form-group">
                                        <label>UPI ID <span class="text-danger">*</span></label><input type="text"
                                            class="form-control" id="upiId"
                                            placeholder="yourname@paytm / yourname@gpay"><small class="text-muted">Enter
                                            your UPI ID (e.g.,
                                            9876543210@paytm)</small>
                                    </div>
                                </div>
                            </form>
                        </div>

                        <div class="tab-pane fade" id="incentiveSection" role="tabpanel">
                            <div class="alert alert-info"><i class="fa fa-info-circle"></i>You
                                earn incentives for each successful
                                delivery. </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="card mb-3">
                                        <div class="card-body text-center">
                                            <h6 class="text-muted">
                                                Per Order Incentive
                                            </h6>
                                            <h2 class="text-success mb-0" id="perOrderIncentive">
                                                ₹0</h2>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card mb-3">
                                        <div class="card-body text-center">
                                            <h6 class="text-muted">
                                                Total Deliveries
                                            </h6>
                                            <h2 class="text-primary mb-0" id="totalDeliveriesCount">
                                                0</h2>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="card bg-success text-white">
                                <div class="card-body text-center">
                                    <h6>Total Incentive Earned</h6>
                                    <h1 class="mb-0" id="totalIncentiveEarned">₹0
                                    </h1>
                                </div>
                            </div>
                            <div class="mt-3">
                                <p class="text-muted mb-1"><i class="fa fa-calculator"></i>Calculation:
                                </p>
                                <p class="mb-0"><strong id="incentiveCalculation">0
                                        deliveries × ₹0=₹0</strong>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer"><button type="button" class="btn btn-secondary"
                        data-dismiss="modal">Close</button><button type="button" class="btn btn-primary"
                        id="savePayoutBtn"><i class="fa fa-save"></i>Save Payment Details
                    </button></div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="profileModal" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header" style="background-color: var(--primary-color); color: white;">
                    <h5 class="modal-title"><i class="fa fa-user"></i>Manage
                        Profile</h5><button type="button" class="close text-white" data-dismiss="modal"
                        aria-label="Close"><span aria-hidden="true">&times;
                        </span></button>
                </div>
                <div class="modal-body">

                    <div class="text-center mb-4">
                        <div style="position: relative; display: inline-block;">
                            <img id="profilePicPreview" src="../images/client1.gif" alt="Profile"
                                style="width: 150px; height: 150px; border-radius: 50%; object-fit: cover; border: 3px solid var(--accent-color);"><button
                                type="button" class="btn btn-sm btn-primary"
                                onclick="document.getElementById('profilePicInput').click()"
                                style="position: absolute; bottom: 0; right: 0; border-radius: 50%; width: 40px; height: 40px; padding: 0;"><i
                                    class="fa fa-camera"></i></button>
                        </div><input type="file" id="profilePicInput" accept="image/*" style="display: none;">
                        <p class="text-muted mt-2 mb-0" style="font-size: 0.85rem;">Click camera
                            icon to change photo </p>
                    </div>

                    <ul class="nav nav-tabs" id="profileTabs" role="tablist">
                        <li class="nav-item"><a class="nav-link active" id="personal-tab" data-toggle="tab"
                                href="#personal" role="tab"><i class="fa fa-user"></i>Personal
                                Info </a></li>
                        <li class="nav-item"><a class="nav-link" id="employment-tab" data-toggle="tab"
                                href="#employment" role="tab"><i class="fa fa-briefcase"></i>Employment
                            </a></li>
                        <li class="nav-item"><a class="nav-link" id="address-tab" data-toggle="tab" href="#address"
                                role="tab"><i class="fa fa-map-marker"></i>Address
                            </a></li>
                    </ul>
                    <div class="tab-content mt-3" id="profileTabContent">

                        <div class="tab-pane fade show active" id="personal" role="tabpanel">
                            <form id="personalInfoForm">
                                <div class="form-group">
                                    <label>Full Name <span class="text-danger">*</span></label><input type="text"
                                        class="form-control" id="profileName" required>
                                </div>
                                <div class="form-group">
                                    <label>Email</label><input type="email" class="form-control" id="profileEmail"
                                        readonly><small class="text-muted">Email
                                        cannot be
                                        changed</small>
                                </div>
                                <div class="form-group">
                                    <label>Mobile Number <span class="text-danger">*</span></label><input type="tel"
                                        class="form-control" id="profileMobile" placeholder="10-digit mobile number"
                                        required>
                                </div>
                                <div class="form-group">
                                    <label>Date of
                                        Birth</label><input type="date" class="form-control" id="profileDOB">
                                </div>
                                <div class="form-group">
                                    <label>Gender</label><select class="form-control" id="profileGender">
                                        <option value="">Select
                                            Gender</option>
                                        <option value="male">
                                            Male</option>
                                        <option value="female">
                                            Female</option>
                                        <option value="other">
                                            Other</option>
                                        <option value="prefer-not-to-say">
                                            Prefer not to say
                                        </option>
                                    </select>
                                </div>
                            </form>
                        </div>

                        <div class="tab-pane fade" id="employment" role="tabpanel">
                            <form id="employmentForm">
                                <div class="form-group">
                                    <label>Employment Type
                                        <span class="text-danger">*</span></label>
                                    <div>
                                        <div class="custom-control custom-radio custom-control-inline">
                                            <input type="radio" id="partTime" name="employmentType" value="part-time"
                                                class="custom-control-input"><label class="custom-control-label"
                                                for="partTime">Part-time</label>
                                        </div>
                                        <div class="custom-control custom-radio custom-control-inline">
                                            <input type="radio" id="fullTime" name="employmentType" value="full-time"
                                                class="custom-control-input"><label class="custom-control-label"
                                                for="fullTime">Full-time</label>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label>Availability</label><select class="form-control" id="profileAvailability">
                                        <option value="">
                                            Select
                                            Availability
                                        </option>
                                        <option value="weekdays">
                                            Weekdays Only
                                        </option>
                                        <option value="weekends">
                                            Weekends Only
                                        </option>
                                        <option value="both">
                                            Both Weekdays &
                                            Weekends
                                        </option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Preferred
                                        Shift</label><select class="form-control" id="profileShift">
                                        <option value="">
                                            Select Shift
                                        </option>
                                        <option value="morning">
                                            Morning (6 AM -
                                            12 PM)</option>
                                        <option value="afternoon">
                                            Afternoon (12 PM
                                            - 6 PM)</option>
                                        <option value="evening">
                                            Evening (6 PM -
                                            12 AM)</option>
                                        <option value="night">
                                            Night (12 AM - 6
                                            AM)</option>
                                        <option value="flexible">
                                            Flexible
                                        </option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Vehicle
                                        Type</label><select class="form-control" id="profileVehicle">
                                        <option value="">
                                            Select Vehicle
                                        </option>
                                        <option value="bicycle">
                                            Bicycle</option>
                                        <option value="scooter">
                                            Scooter</option>
                                        <option value="motorcycle">
                                            Motorcycle
                                        </option>
                                        <option value="car">
                                            Car</option>
                                        <option value="e-bike">
                                            E-bike</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Joining
                                        Date</label><input type="text" class="form-control" id="profileJoiningDate"
                                        readonly><small class="text-muted">Auto-set
                                        on first
                                        login</small>
                                </div>
                            </form>
                        </div>

                        <div class="tab-pane fade" id="address" role="tabpanel">
                            <form id="addressForm">
                                <h6 class="mb-3"><i class="fa fa-home"></i>Current
                                    Address</h6>
                                <div class="form-group">
                                    <label>Street
                                        Address</label><textarea class="form-control" id="profileStreet" rows="2"
                                        placeholder="House No., Street, Locality"></textarea>
                                </div>
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label>City</label><input type="text" class="form-control" id="profileCity">
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label>State</label><input type="text" class="form-control"
                                                id="profileState">
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label>PIN
                                        Code</label><input type="text" class="form-control" id="profilePinCode"
                                        placeholder="6-digit PIN code" maxlength="6">
                                </div>
                                <hr class="my-4">
                                <h6 class="mb-3"><i class="fa fa-phone"></i>Emergency
                                    Contact</h6>
                                <div class="form-group">
                                    <label>Contact
                                        Name</label><input type="text" class="form-control" id="emergencyName"
                                        placeholder="Full Name">
                                </div>
                                <div class="form-group">
                                    <label>Contact
                                        Number</label><input type="tel" class="form-control" id="emergencyPhone"
                                        placeholder="10-digit mobile number">
                                </div>
                                <div class="form-group">
                                    <label>Relationship</label><input type="text" class="form-control"
                                        id="emergencyRelation" placeholder="e.g., Father, Mother, Spouse">
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                <div class="modal-footer"><button type="button" class="btn btn-secondary"
                        data-dismiss="modal">Cancel</button><button type="button" class="btn btn-primary"
                        id="saveProfileBtn"><i class="fa fa-save"></i>Save
                        Changes </button></div>
            </div>
        </div>
    </div>


    <div class="notification-panel" id="notificationPanel">
        <div class="notification-header">
            <h5>Notifications</h5>
            <button class="btn btn-sm text-white" onclick="toggleNotificationPanel()">
                <i class="fa fa-times"></i>
            </button>
        </div>
        <div class="notification-body" id="notificationList">
            <div class="notification-empty">
                <i class="fa fa-bell-slash fa-2x mb-3"></i>
                <p>No notifications yet</p>
            </div>
        </div>
        <div class="notification-footer">
            <button class="btn btn-sm btn-block btn-outline-primary" id="markAllReadBtn"
                onclick="markAllNotificationsRead()" disabled>
                Mark all as read
            </button>
        </div>
    </div>

    <script src="../js/jquery-3.4.1.min.js"></script>
    <script src="../js/bootstrap.js"></script>

    <script src="https://unpkg.com/html5-qrcode@2.3.8/html5-qrcode.min.js"></script>

    <script type="module" src="../js/associate-dashboard.js"></script>
</body>

</html>